$(document).ready(function(){
    // Create Collective Memory of WWII visualization
    // Organization ideas from Yusuf Shakeel (Youtube / Chart.js) 
    $.ajax({
        url:  "http://giraffe.psychology.wustl.edu/ruthie/CollectiveMemoryWWII/specificModuleInfo_fineGrain_select.php",
        type: "GET",
        success:  function(data){
           //console.log(data);
           var dataObject = eval(data);
           
           var EventName = [];
           var Australia = [];
           var Canada = [];
           var China = [];
           var France = [];
           var Germany = [];
           var Italy = [];
           var Japan = [];
           var NewZealand = [];
           var Russia = [];
           var UK = [];
           var US = [];

           for (var i in dataObject) {
          
                EventName.push(dataObject[i].EventName);
                Australia.push(dataObject[i].Australia);
                Canada.push(dataObject[i].Canada);
                China.push(dataObject[i].China);
                France.push(dataObject[i].France);
                Germany.push(dataObject[i].Germany);
                Italy.push(dataObject[i].Italy);
                Japan.push(dataObject[i].Japan);
                NewZealand.push(dataObject[i].NewZealand);
                Russia.push(dataObject[i].Russia);
                UK.push(dataObject[i].UK);
                US.push(dataObject[i].US);           
           
           }

           //Accuracy Chart
           var chartdata = {
                labels: EventName,
                datasets: [
                {
                        label:  'Australia',
                        data: Australia,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(255, 0, 26, 0.75)",
                        borderColor: "rgba(255, 0, 26, 0.75)",
                        pointHoverBackgroundColor: "rgba(255, 0, 26, 1)",
                        pointHoverBorderColor: "rgba(255, 0, 26, 1)",
                },{
                        label:  'Canada',
                        data: Canada,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(254, 84, 0, 0.75)",
                        borderColor: "rgba(254, 84, 0, 0.75)",
                        pointHoverBackgroundColor: "rgba(254, 84, 0, 1)",
                        pointHoverBorderColor: "rgba(254, 84, 0, 1)",
                },{
                        label:  'China',
                        data: China,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(254, 168, 0, 0.75)",
                        borderColor: "rgba(254, 168, 0, 0.75)",
                        pointHoverBackgroundColor: "rgba(254, 168, 0, 1)",
                        pointHoverBorderColor: "rgba(254, 168, 0, 1)",
                },{
                        label:  'France',
                        data: France,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(253, 234, 0, 0.75)",
                        borderColor: "rgba(253, 234, 0, 0.75)",
                        pointHoverBackgroundColor: "rgba(253, 234, 0, 1)",
                        pointHoverBorderColor: "rgba(253, 234, 0, 1)",
                },{
                        label:  'Germany',
                        data: Germany,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(200, 253, 0, 0.75)",
                        borderColor: "rgba(200, 253, 0, 0.75)",
                        pointHoverBackgroundColor: "rgba(200, 253, 0, 1)",
                        pointHoverBorderColor: "rgba(200, 253, 0, 1)",
                },{
                        label:  'Italy',
                        data: Italy,
                        fill: true,
                      //  lineTension: 0.1,
                        backgroundColor: "rgba(0, 252, 70, 0.75)",
                        borderColor: "rgba(0, 252, 70, 0.75)",
                        pointHoverBackgroundColor: "rgba(0, 252, 70, 1)",
                        pointHoverBorderColor: "rgba(0, 252, 70, 1)",
                },{
                        label:  'Japan',
                        data: Japan,
                        fill: true,
                      //  lineTension: 0.1,
                        backgroundColor: "rgba(0, 252, 231, 0.75)",
                        borderColor: "rgba(0, 252, 231, 0.75)",
                        pointHoverBackgroundColor: "rgba(0, 252, 231, 1)",
                        pointHoverBorderColor: "rgba(0, 252, 231, 1)",
                },{
                        label:  'New Zealand',
                        data: NewZealand,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(0, 192, 251, 0.75)",
                        borderColor: "rgba(0, 192, 251, 0.75)",
                        pointHoverBackgroundColor: "rgba(0, 192, 251, 1)",
                        pointHoverBorderColor: "rgba(0, 192, 251, 1)",
                },{
                        label:  'Russia',
                        data: Russia,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(46, 0, 250, 0.75)",
                        borderColor: "rgba(46, 0, 250, 0.75)",
                        pointHoverBackgroundColor: "rgba(46, 0, 250, 1)",
                        pointHoverBorderColor: "rgba(46, 0, 250, 1)",
                },{
                        label:  'UK',
                        data: UK,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(166, 0, 250, 0.75)",
                        borderColor: "rgba(166, 0, 250, 0.75)",
                        pointHoverBackgroundColor: "rgba(166, 0, 250, 1)",
                        pointHoverBorderColor: "rgba(166, 0, 250, 1)",
                },{
                        label:  'US',
                        data: US,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(249, 0, 214, 0.75)",
                        borderColor: "rgba(249, 0, 214, 0.75)",
                        pointHoverBackgroundColor: "rgba(249, 0, 214, 1)",
                        pointHoverBorderColor: "rgba(249, 0, 214, 1)",
                }
                ]
           };
           
          
            $('.chartAreaWrapper2').width($('.chartAreaWrapper2').width()+4000);
                            
            var ctx = document.getElementById("myChart").getContext("2d");
        
           var lineGraph = new Chart(ctx, {
                type: 'bar',
                data: chartdata,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: {
                    
                       
                    },
                    elements: {
						rectangle: {
							borderWidth: 1,
							borderColor: 'rgb(0, 255, 0)',
							borderSkipped: 'bottom',
                            
						}
					},
					legend: {
						position: 'left',
                        labels: {
                            fontSize: 10
                        }
					},                 
                    scales: {
                       
                        yAxes: [{
                            scaleLabel: {
                                display: true,
                                labelString: 'Percent (%)',
                                 fontSize: 15
                            },
                            
                            ticks: {
                                max: 100,
                                min: 0,
                                stepSize: 10,
                                fontSize: 12
                            },
                            gridLines: {
                              //display: false
                            }
                        }],
                       
                        xAxes: [{
                            ticks: {
                                autoSkip: false,
                                fontSize: 12
                            },
                            //barThickness: 1,
                            categoryPercentage: .7,
                            barPercentage: 1,
                            scaleLabel: {
                                display: true,
                                labelString: 'Events',
                                fontSize: 15
                                
                            },
                            gridLines: {
                              display: false
                            }
                        }]
                    }
                }
           });
 
        },
        error:  function(data){
            console.log(data); 
        }
        
    });
    
});