$(document).ready(function(){
    // Create Collective Memory of WWII visualization
    // Organization ideas from Yusuf Shakeel (Youtube / Chart.js) 
    $.ajax({
        url:  "http://giraffe.psychology.wustl.edu/ruthie/CollectiveMemoryWWII/specificModuleInfo_largeGrain_Axis_select.php",
        type: "GET",
        success:  function(data){
            
          // console.log(data);

           var dataObject = eval(data);
     
           var EventName = [];
           var Germany = [];
           var Italy = [];
           var Japan = [];
 

           for (var i in dataObject) {
          
                EventName.push(dataObject[i].EventName);
                Germany.push(dataObject[i].Germany);
                Italy.push(dataObject[i].Italy);
                Japan.push(dataObject[i].Japan);        
           
           }

           //Accuracy Chart
           var chartdata = {
                labels: EventName,
                datasets: [
                {
                        label:  'Germany',
                        data: Germany,
                        fill: true,
                       // lineTension: 0.1,
                        backgroundColor: "rgba(200, 253, 0, 0.75)",
                        borderColor: "rgba(200, 253, 0, 0.75)",
                        pointHoverBackgroundColor: "rgba(200, 253, 0, 1)",
                        pointHoverBorderColor: "rgba(200, 253, 0, 1)",
                },{
                        label:  'Italy',
                        data: Italy,
                        fill: true,
                      //  lineTension: 0.1,
                        backgroundColor: "rgba(0, 252, 70, 0.75)",
                        borderColor: "rgba(0, 252, 70, 0.75)",
                        pointHoverBackgroundColor: "rgba(0, 252, 70, 1)",
                        pointHoverBorderColor: "rgba(0, 252, 70, 1)",
                },{
                        label:  'Japan',
                        data: Japan,
                        fill: true,
                      //  lineTension: 0.1,
                        backgroundColor: "rgba(0, 252, 231, 0.75)",
                        borderColor: "rgba(0, 252, 231, 0.75)",
                        pointHoverBackgroundColor: "rgba(0, 252, 231, 1)",
                        pointHoverBorderColor: "rgba(0, 252, 231, 1)",
                }
                ]
           };
           
          
            $('.chartAreaWrapper2').width($('.chartAreaWrapper2').width()+4000);
                            
            var ctx = document.getElementById("myChart").getContext("2d");
        
           var lineGraph = new Chart(ctx, {
                type: 'bar',
                data: chartdata,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: {
                    
                       
                    },
                    elements: {
						rectangle: {
							borderWidth: 1,
							borderColor: 'rgb(0, 255, 0)',
							borderSkipped: 'bottom',
                            
						}
					},
					legend: {
						position: 'left',
                        labels: {
                            fontSize: 10
                        }
					},                 
                    scales: {
                       
                        yAxes: [{
                            scaleLabel: {
                                display: true,
                                labelString: 'Percent (%)',
                                 fontSize: 15
                            },
                            
                            ticks: {
                                max: 100,
                                min: 0,
                                stepSize: 10,
                                fontSize: 12
                            },
                            gridLines: {
                              //display: false
                            }
                        }],
                       
                        xAxes: [{
                            ticks: {
                                autoSkip: false,
                                fontSize: 12
                            },
                            //barThickness: 1,
                            categoryPercentage: .7,
                            barPercentage: 1,
                            scaleLabel: {
                                display: true,
                                labelString: 'Events',
                                fontSize: 15
                                
                            },
                            gridLines: {
                              display: false
                            }
                        }]
                    }
                }
           });
            
        },
        error:  function(data){
            console.log(data); 
        }
        
    });
    
});